<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="items.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    </head>
    <body>
        <div class="d-flex border border-2 border-secondary">
            <div class="w-75 border  border-2 border-success">
                <h1>Items</h1>
                <ul id="items">

                </ul>
            </div>
            <div class="w-25 border  border-2 border-info">
           <h1>Selected</h1>
           <ul id="selecteditems">

           </ul>
        </div>
        </div>
        <!-- <button id="d1"onclick="abc()">+<span></span></button>
        <button id="d2" onclick="abcd()">-</button> -->
        <span id="d6"></span>
        <script>
            
            for(let k in items){
                var ili=document.createElement("li")
                ili.innerHTML=k;
                var newli=document.createElement("ol")
                items[k].forEach(function(obj,i){
                    var nli=document.createElement("li")
                    nli.innerHTML=obj.itemsname
                    // var mli=document.createElement("li")
                    // mli.innerHTML=obj.itemprice
                    // var qun=document.createElement("li")
                    // qun.innerHTML=obj.quantity
                    // var quni=document.createElement("li")
                    // quni.innerHTML=obj.quantityUnits
                    var chb=document.createElement("input")
                    chb.type="checkbox"                    
                    chb.onchange=function(e){
                       items[k][i].selected=e.target.checked;
                       items[k][i].finalQuan=items[k][i].quantity;                       
                       console.log(items)
                       genCart()
                    }
                    
                    
                    nli.appendChild(chb)
                    newli.appendChild(nli)
                    // newli.appendChild(mli)
                    // newli.appendChild(qun)
                    // newli.appendChild(quni)
                })

                document.getElementById("items").appendChild(ili)
                document.getElementById("items").appendChild(newli)
                
            }
        function genCart(){           
            document.getElementById("selecteditems").innerHTML=''
            for(let k in items){
                var ili=document.createElement("li")
                ili.innerHTML=k;
                var newli=document.createElement("ol")
                items[k].forEach(function(obj,i){
                    if(obj.selected){
                        var nli=document.createElement("li")
                       nli.innerHTML=obj.itemsname  
                       var mli=document.createElement("li")
                       mli.innerHTML=obj.itemprice
                       var qun=document.createElement("li")
                       qun.innerHTML=obj.quantity
                      var quni=document.createElement("li")
                       quni.innerHTML=obj.quantityUnits

                        
                        var ddd=document.createElement("h6")
                        ddd.innerHTML=obj.quantity
                       newli.appendChild(ddd)
                       var totalprice=document.createElement("li")
                       totalprice.innerHTML=obj.quantity
                       ddd.innerHTML=obj.quantity+"*"+obj.itemprice+"="+obj.quantity*obj.itemprice
                      

                    var btn1=document.createElement("button")
                    btn1.innerHTML="+"
                    btn1.onclick=function (){
                        obj.quantity++
                        ddd.innerHTML=obj.quantity+"*"+obj.itemprice+"="+obj.quantity*obj.itemprice
                        getCart()
                    }
                    newli.appendChild(btn1)
                    var btn2=document.createElement("button")
                    btn2.innerHTML="-"
                    btn2.onclick=function(){
                        obj.quantity--
                        ddd.innerHTML=obj.quantity+"*"+obj.itemprice+"="+obj.quantity*obj.itemprice
                        getCart()
                    }
                    newli.appendChild(btn2)



                       newli.appendChild(nli)
                       newli.appendChild(mli)
                       newli.appendChild(qun)
                       newli.appendChild(quni)
                    

                    }
                })

                document.getElementById("selecteditems").appendChild(ili)                
                document.getElementById("selecteditems").appendChild(newli)
            }
        }
        </script>
    </body>
</html>